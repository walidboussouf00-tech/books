#include <iostream>
#include <string>
#include <winsock2.h>

#pragma comment(lib, "ws2_32.lib")
using namespace std;

int main() {

    WSADATA wsa;
    SOCKET serverSocket, clientSocket;
    sockaddr_in serverAddr;
    int addrLen = sizeof(serverAddr);

    const int PORT = 8080;

    WSAStartup(MAKEWORD(2,2), &wsa);

    serverSocket = socket(AF_INET, SOCK_STREAM, 0);

    serverAddr.sin_family = AF_INET;
    serverAddr.sin_addr.s_addr = INADDR_ANY;
    serverAddr.sin_port = htons(PORT);

    bind(serverSocket, (sockaddr*)&serverAddr, sizeof(serverAddr));
    listen(serverSocket, 5);

    cout << "Server running on http://localhost:" << PORT << endl;

    while (true)
    {
        clientSocket = accept(serverSocket, (sockaddr*)&serverAddr, &addrLen);

        string website = R"(<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Walid Book Store</title>
<style>
body {
    margin:0;
    font-family:Arial;
    background:linear-gradient(135deg,#232526,#414345);
    color:white;
}

header{
    padding:20px;
    background:#111;
    text-align:center;
    font-size:28px;
}

.search{
    margin:20px auto;
    width:300px;
}

.search input{
    width:100%;
    padding:10px;
    border:none;
    border-radius:10px;
    outline:none;
}

.container{
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    gap:25px;
    padding:20px;
}

.card{
    width:220px;
    background:white;
    color:black;
    border-radius:15px;
    padding:15px;
    text-align:center;
    box-shadow:0 0 15px black;
    transition:0.3s;
}

.card:hover{
    transform:scale(1.05);
}

.img{
    width:100%;
    height:120px;
    background:linear-gradient(to right,#36d1dc,#5b86e5);
    border-radius:10px;
    margin-bottom:10px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:30px;
}

button{
    padding:8px 15px;
    border:none;
    border-radius:10px;
    background:#2196f3;
    color:white;
    cursor:pointer;
}

button:hover{
    background:#0b7dda;
}

.cart, .login{
    margin:30px auto;
    width:300px;
    padding:20px;
    background:#111;
    border-radius:15px;
    text-align:center;
}

.cart h3, .login h3{
    margin-bottom:15px;
}

footer{
    background:#000;
    padding:10px;
    text-align:center;
    margin-top:40px;
}

.green{background:linear-gradient(to right,#11998e,#38ef7d)}
.orange{background:linear-gradient(to right,#ff8008,#ffc837)}
.red{background:linear-gradient(to right,#e53935,#e35d5b)}

</style>
</head>

<body>

<header>ğŸ“š Walid Book Store - Ù…ØªØ¬Ø± ÙˆÙ„ÙŠØ¯ Ù„Ù„ÙƒØªØ¨</header>

<div class="search">
<input type="text" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨...">
</div>

<div class="container">

<!-- ÙƒØªØ¨ Ù…Ø¬Ø§Ù†ÙŠØ© -->
<div class="card">
<div class="img green">ğŸ“˜</div>
<h3>ÙƒØªØ§Ø¨ Ù…Ø¬Ø§Ù†ÙŠ 1</h3>
<p>Ø§Ù„Ø³Ø¹Ø±: Ù…Ø¬Ø§Ù†ÙŠ</p>
<button>ØªØ­Ù…ÙŠÙ„</button>
</div>

<div class="card">
<div class="img green">ğŸ“—</div>
<h3>ÙƒØªØ§Ø¨ Ù…Ø¬Ø§Ù†ÙŠ 2</h3>
<p>Ø§Ù„Ø³Ø¹Ø±: Ù…Ø¬Ø§Ù†ÙŠ</p>
<button>ØªØ­Ù…ÙŠÙ„</button>
</div>

<!-- ÙƒØªØ¨ Ø±Ø®ÙŠØµØ© -->
<div class="card">
<div class="img orange">ğŸ“•</div>
<h3>ÙƒØªØ§Ø¨ Ø¨Ø±Ù…Ø¬Ø©</h3>
<p>Ø§Ù„Ø³Ø¹Ø±: 3$</p>
<button>Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
</div>

<div class="card">
<div class="img orange">ğŸ“™</div>
<h3>ÙƒØªØ§Ø¨ Ø±ÙŠØ§Ø¶ÙŠØ§Øª</h3>
<p>Ø§Ù„Ø³Ø¹Ø±: 2$</p>
<button>Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
</div>

<!-- ÙƒÙ„ Ø§Ù„ÙƒØªØ¨ -->
<div class="card">
<div class="img red">ğŸ“š</div>
<h3>ÙƒØªØ§Ø¨ Ø¹Ù„ÙˆÙ…</h3>
<p>Ø§Ù„Ø³Ø¹Ø±: 5$</p>
<button>Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
</div>

<div class="card">
<div class="img red">ğŸ“–</div>
<h3>ÙƒØªØ§Ø¨ Ù„ØºØ§Øª</h3>
<p>Ø§Ù„Ø³Ø¹Ø±: 4$</p>
<button>Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
</div>

</div>

<!-- Ø³Ù„Ø© Ø´Ø±Ø§Ø¡ -->
<div class="cart">
<h3>ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</h3>
<p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒØªØ¨ Ø­Ø§Ù„ÙŠØ§Ù‹</p>
</div>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div class="login">
<h3>ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
<input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"><br><br>
<input type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"><br><br>
<button>Ø¯Ø®ÙˆÙ„</button>
</div>

<footer>
Â© 2025 - Walid Boussouf
</footer>

</body>
</html>)";

        string response =
            "HTTP/1.1 200 OK\r\n"
            "Content-Type: text/html; charset=UTF-8\r\n"
            "Content-Length: " + to_string(website.size()) + "\r\n\r\n" +
            website;

        send(clientSocket, response.c_str(), response.length(), 0);
        closesocket(clientSocket);
    }

    closesocket(serverSocket);
    WSACleanup();
    return 0;
}
